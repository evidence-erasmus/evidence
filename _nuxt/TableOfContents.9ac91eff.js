import x from"./Icon.c15dedbc.js";import{y as O,f as C,j as w,n as I,D as i,Z as k,I as $,$ as B,o as u,c as d,a,t as f,g as o,b as T,C as m,F as P,l as E}from"./entry.40a99e8b.js";const V=O("userPreferences",{state:()=>({tocOpen:!0,modalOpen:!1,learnPathViruses:0}),actions:{toggleToC(){this.tocOpen=!this.tocOpen},toggleModal(){this.modalOpen=!this.modalOpen},setLearnPath(p,n){this[p]=n}},persist:!0}),z={class:"w-full py-6 border shadow sticky top-[5rem] max-h-[100dvh] overflow-y-auto bg-yellow-50 z-10 md:block"},M={class:"transition-all"},S=["id","onClick"],F={__name:"TableOfContents",setup(p){const n=V(),{t:v}=C(),b=w(),_=I(),g=e=>{const t=document.getElementById(e);t&&(b.push({hash:`#${e}`}),t.scrollIntoView({behavior:"smooth",block:"center"}))},r=i(null),h=i(null),l=i(null),y=k({rootMargin:"100px 0px -100px 0px",threshold:.5});return $(()=>{l.value=new IntersectionObserver(e=>{e.forEach(t=>{const c=t.target.getAttribute("id");t.isIntersecting&&(h.value=c)})},y),r.value=document.querySelectorAll(".e-article h2[id]"),r.value.forEach(e=>{var t;e.style.cssText+="scroll-margin:10rem;",(t=l.value)==null||t.observe(e)})}),B(()=>{var e;r.value=null,(e=l.value)==null||e.disconnect(),l.value=null}),(e,t)=>{const c=x;return u(),d("div",z,[a("div",{class:"flex items-center justify-between px-4 text-md font-Body font-bold cursor-pointer",onClick:t[0]||(t[0]=s=>o(n).toggleToC())},[a("span",null,f(o(v)("modules.toc")),1),T(c,{name:"tabler:chevron-down",size:"24",class:m(["transition-all duration-300",o(n).tocOpen?"-scale-y-100":"scale-y-100"])},null,8,["class"])]),a("div",{class:m(["mt-3",o(n).tocOpen?"block":"hidden"])},[a("ol",M,[(u(!0),d(P,null,E(o(r),s=>(u(),d("li",{key:`${o(_).name}-${s.id}`,id:`toc-${s.id}`,onClick:j=>g(s.id),class:m(["leading-tight my-0 cursor-pointer p-2 border-l-[0.5rem] transition",o(h)===s.id?"border-l-blue-400":"border-l-yellow-50"])},f(s.textContent),11,S))),128))])],2)])}}};export{F as _,V as u};
