import B from"./Icon.9f34b9cc.js";import{f as $,q as b,o as a,c as o,t as r,B as i,a as f,F as y,l as w,g as c,Q as g,k as D,m as V,b as M}from"./entry.6cca6deb.js";const C={class:"w-full"},N={key:0,style:{"font-size":"120%"},class:"mt-2 mb-0 leading-tight"},P={key:1,class:"italic mt-0 mb-2 leading-tight"},z={class:"text-sm leading-none px-2 py-4 border border-slate-300"},F={class:"font-bold m-0 p-0"},q={key:0,class:"italic m-0 p-0"},A={class:"text-sm leading-none"},E={key:0,class:"text-sm m-2 leading-none"},I=["onUpdate:modelValue"],L=["onClick"],J={__name:"DynamicTableFull",props:{storeToUpdate:{},keyToUpdate:{},tableStructure:{},newRow:{type:Array,default:[""]},printMode:{type:Boolean,default:!1},addRow:{type:Boolean,default:!1},deleteRow:{type:Boolean,default:!1},addRowTitle:{type:String},overwrite:{type:Boolean,default:!1},overwritePos:{type:Number,default:0},title:{type:String},subtitle:{type:String}},setup(e){const t=e,{t:k,tm:Q,rt:u}=$({useScope:"global"}),p=b(()=>!(!t.addRow||t.printMode)),T=b(()=>!(!t.deleteRow||t.printMode)),v=()=>{const l=new Array(...t.newRow);t.storeToUpdate.addDynamicRow(t.keyToUpdate,l)},U=l=>{t.storeToUpdate.deleteDynamicRow(t.keyToUpdate,l)},R=()=>{t.tableStructure.rows.forEach((l,h)=>{const m=u(l[t.overwritePos]);t.storeToUpdate.changeDynamicRow(t.keyToUpdate,h,t.overwritePos,m)})};return t.overwrite===!0&&R(),(l,h)=>{const m=B;return a(),o("section",C,[e.title?(a(),o("h5",N,r(e.title),1)):i("",!0),e.subtitle?(a(),o("p",P,r(e.subtitle),1)):i("",!0),f("div",{class:"grid",style:g(`grid-template-columns:repeat(${e.tableStructure.header.length}, 1fr)`)},[(a(!0),o(y,null,w(e.tableStructure.header,s=>(a(),o("div",z,[f("p",F,r(c(u)(s.thead)),1),s.tsubhead?(a(),o("p",q,r(c(u)(s.tsubhead)),1)):i("",!0)]))),256))],4),(a(!0),o(y,null,w(e.keyToUpdate,(s,n)=>(a(),o("div",{key:`r${n}-${e.keyToUpdate.length}`,class:"grid relative",style:g(`grid-template-columns:repeat(${e.tableStructure.header.length}, 1fr)`)},[(a(!0),o(y,null,w(s,(x,d)=>(a(),o("div",A,[e.overwrite&&d===e.overwritePos||e.printMode===!0?(a(),o("p",E,r(e.keyToUpdate[n][d]),1)):D((a(),o("textarea",{"onUpdate:modelValue":S=>e.keyToUpdate[n][d]=S,rows:"1",class:"textarea textarea-bordered block w-full h-full py-1 px-2 leading-tight",key:`ta-${n}-${d}-${e.keyToUpdate.length}`},`
                `,8,I)),[[V,e.keyToUpdate[n][d]]])]))),256)),c(T)?(a(),o("button",{key:0,class:"absolute -right-2 top-1 text-red-500",onClick:x=>U(n)},[M(m,{name:"material-symbols:cancel",size:"24"})],8,L)):i("",!0)],4))),128)),c(p)?(a(),o("button",{key:2,onClick:v,class:"btn btn-sm btn-neutral mt-3"},r(e.addRowTitle?e.addRowTitle:c(k)("inquiry.add_row")),1)):i("",!0)])}}};export{J as _};
