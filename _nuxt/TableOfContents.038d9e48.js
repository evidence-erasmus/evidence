import w from"./Icon.bc05775f.js";import{f as x,E as C,n as I,C as r,W as B,J as $,K as E,o as d,c as m,a as c,t as f,g as t,b as O,D as v,F as T,k as S}from"./entry.338f2bb4.js";import{u as z}from"./useUserPreferences.e032fc58.js";const A={class:"w-full py-6 border shadow sticky top-[5rem] max-h-[100dvh] overflow-y-auto bg-yellow-50 z-10 md:block"},V={class:"transition-all"},q=["id","onClick"],U={__name:"TableOfContents",setup(D){const a=z(),{t:b}=x(),_=C(),h=I(),y=e=>{const o=document.getElementById(e);o&&(_.push({hash:`#${e}`}),o.scrollIntoView({behavior:"smooth",block:"center"}))},i=r(null),s=r(null),p=r(null),l=r(null),g=B({root:null});return $(()=>{l.value=new IntersectionObserver(e=>{e.forEach(o=>{const u=o.target.getAttribute("id");o.isIntersecting&&(p.value=u)})},g),i.value=document.querySelectorAll(".e-article section h2[id]"),s.value=document.querySelectorAll(".e-article section[id]"),s.value.forEach(e=>{var o;e.style.cssText+="scroll-margin:10rem;",(o=l.value)==null||o.observe(e)})}),E(()=>{var e;i.value=null,s.value=null,(e=l.value)==null||e.disconnect(),l.value=null}),(e,o)=>{const u=w;return d(),m("div",A,[c("div",{class:"flex items-center justify-between px-4 text-md font-Body font-bold cursor-pointer",onClick:o[0]||(o[0]=n=>t(a).toggleToC())},[c("span",null,f(t(b)("modules.toc")),1),O(u,{name:"tabler:chevron-down",size:"24",class:v(["transition-all duration-300",t(a).tocOpen?"-scale-y-100":"scale-y-100"])},null,8,["class"])]),c("div",{class:v(["mt-3",t(a).tocOpen?"block":"hidden"])},[c("ol",V,[(d(!0),m(T,null,S(t(s),(n,k)=>(d(),m("li",{key:`${t(h).name}-${n.id}`,id:`toc-${n.id}`,onClick:F=>y(n.id),class:v(["leading-tight my-0 cursor-pointer p-2 border-l-[0.5rem] transition",t(p)===n.id?"border-l-blue-400":"border-l-yellow-50"])},f(t(i)[k].textContent),11,q))),128))])],2)])}}};export{U as _};
