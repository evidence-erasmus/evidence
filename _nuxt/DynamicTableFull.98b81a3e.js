import B from"./Icon.6a6ab866.js";import{f as $,q as h,o,c as a,t as s,B as i,a as b,F as m,l as w,g as c,V as g,k as V,m as D,b as M}from"./entry.ee7d469b.js";const C={class:"w-full"},N={key:0,style:{"font-size":"120%"},class:"mt-2 mb-0 leading-tight"},P={key:1,class:"italic mt-0 mb-2 leading-tight"},z={class:"text-sm leading-none px-2 py-4 border border-slate-300"},F={class:"font-bold m-0 p-0"},q={key:0,class:"italic m-0 p-0"},A={class:"text-sm leading-none"},E={key:0,class:"text-sm m-2 leading-none"},I=["onUpdate:modelValue"],L=["onClick"],K={__name:"DynamicTableFull",props:{storeToUpdate:{},keyToUpdate:{},tableStructure:{},newRow:{type:Array,default:[""]},printMode:{type:Boolean,default:!1},addRow:{type:Boolean,default:!1},deleteRow:{type:Boolean,default:!1},addRowTitle:{type:String},overwrite:{type:Boolean,default:!1},overwritePos:{type:Number,default:0},title:{type:String},subtitle:{type:String}},setup(e){const t=e,{t:k,tm:G,rt:u}=$({useScope:"global"}),p=h(()=>!(!t.addRow||t.printMode)),T=h(()=>!(!t.deleteRow||t.printMode)),v=()=>{const l=new Array(...t.newRow);t.storeToUpdate.addDynamicRow(t.keyToUpdate,l)},U=l=>{t.storeToUpdate.deleteDynamicRow(t.keyToUpdate,l)},x=()=>{t.tableStructure.rows.forEach((l,f)=>{const y=u(l[t.overwritePos]);t.storeToUpdate.changeDynamicRow(t.keyToUpdate,f,t.overwritePos,y)})};return t.overwrite===!0&&x(),(l,f)=>{const y=B;return o(),a("section",C,[e.title?(o(),a("h5",N,s(e.title),1)):i("",!0),e.subtitle?(o(),a("p",P,s(e.subtitle),1)):i("",!0),b("div",{class:"grid",style:g(`grid-template-columns:repeat(${e.tableStructure.header.length}, 1fr)`)},[(o(!0),a(m,null,w(e.tableStructure.header,r=>(o(),a("div",z,[b("p",F,s(c(u)(r.thead)),1),r.tsubhead?(o(),a("p",q,s(c(u)(r.tsubhead)),1)):i("",!0)]))),256))],4),(o(!0),a(m,null,w(e.keyToUpdate,(r,n)=>(o(),a("div",{key:`r${n}-${e.keyToUpdate.length}`,class:"grid relative",style:g(`grid-template-columns:repeat(${e.tableStructure.header.length}, 1fr)`)},[(o(!0),a(m,null,w(r,(R,d)=>(o(),a("div",A,[e.overwrite&&d===e.overwritePos||e.printMode===!0?(o(),a("p",E,s(e.keyToUpdate[n][d]),1)):V((o(),a("textarea",{"onUpdate:modelValue":S=>e.keyToUpdate[n][d]=S,rows:"1",class:"textarea textarea-bordered ring-inset block w-full h-full py-1 px-2 leading-tight rounded-md focus:bg-yellow-50 focus:text-slate-800",style:{"outline-offset":"-4px"},key:`ta-${n}-${d}-${e.keyToUpdate.length}`},`
                `,8,I)),[[D,e.keyToUpdate[n][d]]])]))),256)),c(T)?(o(),a("button",{key:0,class:"absolute -right-2 top-1 text-red-700",onClick:R=>U(n)},[M(y,{name:"material-symbols:cancel",size:"24"})],8,L)):i("",!0)],4))),128)),c(p)?(o(),a("button",{key:2,onClick:v,class:"btn btn-sm btn-neutral mt-3"},s(e.addRowTitle?e.addRowTitle:c(k)("inquiry.add_row")),1)):i("",!0)])}}};export{K as _};
